<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>TINOC2_freeRTOS: /home/telemetria/git/workspaces/tinoc2_firmware_freertos/RTOSDemo/Source/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="FLMW837IRLQLKCF.MEDIUM.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TINOC2_freeRTOS
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Firmware - Aplicacion de TINOC2 basada en freeRTOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_74389ed8173ad57b461b9d623a1f3867.html">Source</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Archivo principal del proyecto.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;string.h&quot;</code><br />
<code>#include &quot;<a class="el" href="_free_r_t_o_s_8h_source.html">FreeRTOS.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="task_8h_source.html">task.h</a>&quot;</code><br />
<code>#include &quot;LPC11xx.h&quot;</code><br />
<code>#include &quot;<a class="el" href="queue_8h_source.html">queue.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="uart_8h_source.html">UART/uart.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="colas_8h_source.html">UART/colas.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="leds_8h_source.html">leds/leds.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.c:</div>
<div class="dyncontent">
<div class="center"><img src="main_8c__incl.png" border="0" usemap="#_2home_2telemetria_2git_2workspaces_2tinoc2__firmware__freertos_2_r_t_o_s_demo_2_source_2main_8c" alt=""/></div>
<map name="_2home_2telemetria_2git_2workspaces_2tinoc2__firmware__freertos_2_r_t_o_s_demo_2_source_2main_8c" id="_2home_2telemetria_2git_2workspaces_2tinoc2__firmware__freertos_2_r_t_o_s_demo_2_source_2main_8c">
<area shape="rect" id="node3" href="_free_r_t_o_s_8h.html" title="FreeRTOS.h" alt="" coords="235,109,331,136"/>
<area shape="rect" id="node12" href="task_8h.html" title="task.h" alt="" coords="355,109,413,136"/>
<area shape="rect" id="node15" href="queue_8h.html" title="queue.h" alt="" coords="549,109,617,136"/>
<area shape="rect" id="node16" href="uart_8h.html" title="Header del archivo uart.c. " alt="" coords="641,109,737,136"/>
<area shape="rect" id="node17" href="colas_8h.html" title="Header del archivo &quot;colas.c&quot;. " alt="" coords="762,109,867,136"/>
<area shape="rect" id="node18" href="leds_8h.html" title="Header del archivo leds.c. " alt="" coords="892,109,977,136"/>
<area shape="rect" id="node6" href="_free_r_t_o_s_config_8h.html" title="FreeRTOSConfig.h" alt="" coords="150,184,285,211"/>
<area shape="rect" id="node7" href="projdefs_8h.html" title="projdefs.h" alt="" coords="309,184,387,211"/>
<area shape="rect" id="node8" href="portable_8h.html" title="portable.h" alt="" coords="411,184,490,211"/>
<area shape="rect" id="node9" href="deprecated__definitions_8h.html" title="deprecated_definitions.h" alt="" coords="219,259,381,285"/>
<area shape="rect" id="node10" href="portmacro_8h.html" title="portmacro.h" alt="" coords="405,259,496,285"/>
<area shape="rect" id="node11" href="mpu__wrappers_8h.html" title="mpu_wrappers.h" alt="" coords="521,259,639,285"/>
<area shape="rect" id="node13" href="list_8h.html" title="list.h" alt="" coords="515,184,565,211"/>
</map>
</div>
</div>
<p><a href="main_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a324485e1d56fab248d874300f1756c2e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a324485e1d56fab248d874300f1756c2e">mainCHECK_INTERRUPT_STACK</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a324485e1d56fab248d874300f1756c2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a464ac1a014942c092b752b720c4ff294"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a464ac1a014942c092b752b720c4ff294">prvSetupHardware</a> (void)</td></tr>
<tr class="memdesc:a464ac1a014942c092b752b720c4ff294"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform any application specific hardware configuration. The clocks,.  <a href="#a464ac1a014942c092b752b720c4ff294">More...</a><br /></td></tr>
<tr class="separator:a464ac1a014942c092b752b720c4ff294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Programa ppal.  <a href="#a840291bc02cba5474a4cb46a9b9566fe">More...</a><br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7e5c95cf72a3f819bc4462a7fb62ca3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_o_o_k_f_u_n_c_t_i_o_n_s.html#gab7e5c95cf72a3f819bc4462a7fb62ca3">vApplicationMallocFailedHook</a> (void)</td></tr>
<tr class="memdesc:gab7e5c95cf72a3f819bc4462a7fb62ca3"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group___h_o_o_k_f_u_n_c_t_i_o_n_s.html#gab7e5c95cf72a3f819bc4462a7fb62ca3" title="vApplicationMallocFailedHook() will only be called if ">vApplicationMallocFailedHook()</a> will only be called if  <a href="group___h_o_o_k_f_u_n_c_t_i_o_n_s.html#gab7e5c95cf72a3f819bc4462a7fb62ca3">More...</a><br /></td></tr>
<tr class="separator:gab7e5c95cf72a3f819bc4462a7fb62ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97fd430f36f8b065226e2bff9bad1de5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_o_o_k_f_u_n_c_t_i_o_n_s.html#ga97fd430f36f8b065226e2bff9bad1de5">vApplicationIdleHook</a> (void)</td></tr>
<tr class="memdesc:ga97fd430f36f8b065226e2bff9bad1de5"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group___h_o_o_k_f_u_n_c_t_i_o_n_s.html#ga97fd430f36f8b065226e2bff9bad1de5" title="vApplicationIdleHook() will only be called if configUSE_IDLE_HOOK is set ">vApplicationIdleHook()</a> will only be called if configUSE_IDLE_HOOK is set  <a href="group___h_o_o_k_f_u_n_c_t_i_o_n_s.html#ga97fd430f36f8b065226e2bff9bad1de5">More...</a><br /></td></tr>
<tr class="separator:ga97fd430f36f8b065226e2bff9bad1de5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga306672a74bdd13ce210c05fca3385c59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_o_o_k_f_u_n_c_t_i_o_n_s.html#ga306672a74bdd13ce210c05fca3385c59">vApplicationStackOverflowHook</a> (<a class="el" href="task_8h.html#ae95f44d4cfeb4a599c6cc258d241cb6b">TaskHandle_t</a> pxTask, char *pcTaskName)</td></tr>
<tr class="memdesc:ga306672a74bdd13ce210c05fca3385c59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run time stack overflow checking is performed if.  <a href="group___h_o_o_k_f_u_n_c_t_i_o_n_s.html#ga306672a74bdd13ce210c05fca3385c59">More...</a><br /></td></tr>
<tr class="separator:ga306672a74bdd13ce210c05fca3385c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ca051aa77e17583aa5a85d5de5c199a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_o_o_k_f_u_n_c_t_i_o_n_s.html#ga9ca051aa77e17583aa5a85d5de5c199a">vApplicationTickHook</a> (void)</td></tr>
<tr class="memdesc:ga9ca051aa77e17583aa5a85d5de5c199a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will be called by each tick interrupt if configUSE_TICK_HOOK is set to 1 in <a class="el" href="_free_r_t_o_s_config_8h.html">FreeRTOSConfig.h</a>. User code can be added here, but the tick hook is called from an interrupt context, so code must not attempt to block, and only the interrupt safe FreeRTOS API functions can be used (those that end in FromISR()). Manually check the last few bytes of the interrupt stack to check they have not been overwritten. Note - the task stacks are automatically checked for overflow if configCHECK_FOR_STACK_OVERFLOW is set to 1 or 2 in FreeRTOSConifg.h, but the interrupt stack is not.  <a href="group___h_o_o_k_f_u_n_c_t_i_o_n_s.html#ga9ca051aa77e17583aa5a85d5de5c199a">More...</a><br /></td></tr>
<tr class="separator:ga9ca051aa77e17583aa5a85d5de5c199a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae62a253a3c58d4edb33edb2e9eca8ae1"><td class="memItemLeft" align="right" valign="top">const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae62a253a3c58d4edb33edb2e9eca8ae1">ucExpectedInterruptStackValues</a> [] = { 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC }</td></tr>
<tr class="separator:ae62a253a3c58d4edb33edb2e9eca8ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Archivo principal del proyecto. </p>
<dl class="section version"><dt>Version</dt><dd>V0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2016</dd></dl>
<dl class="section note"><dt>Note</dt><dd>FreeRTOS V9.0.0 - Copyright (C) 2016 Real Time Engineers Ltd.</dd></dl>
<dl class="section user"><dt></dt><dd>ARM Limited (ARM) is supplying this software for use with Cortex-M processor based microcontrollers. This file can be freely distributed within development tools that are supporting such ARM based processors.</dd></dl>
<dl class="section user"><dt></dt><dd>THIS SOFTWARE IS PROVIDED "AS IS". NO WARRANTIES, WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. ARM SHALL NOT, IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.</dd></dl>
<p>This project provides two demo applications. A simple blinky style project, and a more comprehensive test and demo application. The mainCREATE_SIMPLE_BLINKY_DEMO_ONLY setting (defined in this file) is used to select between the two. The simply blinky demo is implemented and described in main_blinky.c. The more comprehensive test and demo application is implemented and described in main_full.c.</p>
<p>This file implements the code that is not demo specific, including the hardware setup and FreeRTOS hook functions. It also contains a dummy interrupt service routine called Dummy_IRQHandler() that is provided as an example of how to use interrupt safe FreeRTOS API functions (those that end in "FromISR"). </p><pre class="fragment">VISIT http://www.FreeRTOS.org TO ENSURE YOU ARE USING THE LATEST VERSION.
</pre><p>This file is part of the FreeRTOS distribution.</p>
<p>FreeRTOS is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License (version 2) as published by the Free Software Foundation &gt;&gt;&gt;&gt; AND MODIFIED BY &lt;&lt;&lt;&lt; the FreeRTOS exception.</p>
<p>&gt;&gt;! NOTE: The modification to the GPL is included to allow you to !&lt;&lt; &gt;&gt;! distribute a combined work that includes FreeRTOS without being !&lt;&lt; &gt;&gt;! obliged to provide the source code for proprietary components !&lt;&lt; &gt;&gt;! outside of the FreeRTOS kernel. !&lt;&lt;</p>
<p>FreeRTOS is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. Full license text is available on the following link: <a href="http://www.freertos.org/a00114.html">http://www.freertos.org/a00114.html</a></p>
<pre class="fragment">                                                                     *
  FreeRTOS provides completely free yet professionally developed,    *
  robust, strictly quality controlled, supported, and cross          *
  platform software that is more than just the market leader, it     *
  is the industry's de facto standard.                               *
                                                                     *
  Help yourself get started quickly while simultaneously helping     *
  to support the FreeRTOS project by purchasing a FreeRTOS           *
  tutorial book, reference manual, or both:                          *
  http://www.FreeRTOS.org/Documentation                              *
                                                                     *


http://www.FreeRTOS.org/FAQHelp.html - Having a problem?  Start by reading
the FAQ page "My application does not run, what could be wrong?".  Have you
defined configASSERT()?

http://www.FreeRTOS.org/support - In return for receiving this top quality
embedded software for free we request you assist our global community by
participating in the support forum.

http://www.FreeRTOS.org/training - Investing in training allows your team to
be as productive as possible as early as possible.  Now you can receive
FreeRTOS training directly from Richard Barry, CEO of Real Time Engineers
Ltd, and the world's leading authority on the world's leading RTOS.

http://www.FreeRTOS.org/plus - A selection of FreeRTOS ecosystem products,
including FreeRTOS+Trace - an indispensable productivity tool, a DOS
compatible FAT file system, and our tiny thread aware UDP/IP stack.

http://www.FreeRTOS.org/labs - Where new FreeRTOS products go to incubate.
Come and try FreeRTOS+TCP, our new open source TCP/IP stack for FreeRTOS.

http://www.OpenRTOS.com - Real Time Engineers ltd. license FreeRTOS to High
Integrity Systems ltd. to sell under the OpenRTOS brand.  Low cost OpenRTOS
licenses offer ticketed support, indemnification and commercial middleware.

http://www.SafeRTOS.com - High Integrity Systems also provide a safety
engineered and independently SIL3 certified version for use in safety and
mission critical applications that require provable dependability.

1 tab == 4 spaces!</pre>
<p>Definition in file <a class="el" href="main_8c_source.html">main.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a324485e1d56fab248d874300f1756c2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mainCHECK_INTERRUPT_STACK&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="main_8c_source.html#l00148">148</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a840291bc02cba5474a4cb46a9b9566fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Programa ppal. </p>
<p>int <a class="el" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Programa ppal. ">main( void )</a> </p><dl class="section author"><dt>Author</dt><dd>NXP </dd></dl>

<p>Definition at line <a class="el" href="main_8c_source.html#l00173">173</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>

</div>
</div>
<a class="anchor" id="a464ac1a014942c092b752b720c4ff294"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void prvSetupHardware </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform any application specific hardware configuration. The clocks,. </p>
<p>static void <a class="el" href="main_8c.html#a464ac1a014942c092b752b720c4ff294" title="Perform any application specific hardware configuration. The clocks,. ">prvSetupHardware( void )</a> memory, etc. are configured before <a class="el" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Programa ppal. ">main()</a> is called. </p><dl class="section author"><dt>Author</dt><dd>NXP </dd></dl>

<p>Definition at line <a class="el" href="main_8c_source.html#l00230">230</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ae62a253a3c58d4edb33edb2e9eca8ae1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char ucExpectedInterruptStackValues[] = { 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC, 0xCC }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="main_8c_source.html#l00150">150</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
